<VirtualHost *:80>
    ServerName svs24.ful.informatik.haw-hamburg.de
    DocumentRoot /userdata/webportal
    <Directory /userdata/webportal>
        AllowOverride All
        Options -Indexes
        Require all granted
    </Directory>
    <Directory "/userdata/webportal">
            AuthType Basic
            AuthName "admin area"
            AuthUserFile /etc/apache2/.htpasswd
            Require valid-user
    </Directory>
</VirtualHost>


# https
<IfModule mod_ssl.c>
    <VirtualHost *:443>
        #ServerName svs24.ful.informatik.haw-hamburg.de
        ServerName $CI_PROJECT_NAME.$CI_PROJECT_NAMESPACE.informatik.haw-hamburg.de
        DocumentRoot /userdata/webportal
        SSLEngine On
# certificado do servidor
        # SSLCertificateFile /certs/certs/svs24.ful.informatik.haw-hamburg.de.crt
        SSLCertificateFile /certs/ca/svs24.ca-bundle
# certificado bundle 
        SSLCertificateChainFile /certs/ca/svs24.ca-bundle
# key dos certs do servidor
        SSLCertificateKeyFile /certs/certs/svs24.ful.informatik.haw-hamburg.de.key

        SSLCipherSuite ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA384

        #SSLProtocol TLSv1.2
        #SSLProtocol -ALL +SSLv3 +TLSv1
        #SSLCipherSuite ALL:!ADH:RC4+RSA:+HIGH:+MEDIUM:!LOW:!SSLv2:!EXPORT

        <Directory /userdata/webportal>
            AllowOverride All
            Options -Indexes
            Require all granted
        </Directory>
        <Directory "/userdata/webportal">
                AuthType Basic
                AuthName "admin area"
                AuthUserFile /etc/apache2/.htpasswd
                Require valid-user
        </Directory>
    </VirtualHost>
</IfModule>
